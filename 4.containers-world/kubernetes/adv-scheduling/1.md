### ✅ **What is Node Selector in Kubernetes?**

`nodeSelector` is the **simplest way to tell Kubernetes to schedule a Pod on specific Nodes** based on **labels**.

* It matches the **labels on a Node** with the **nodeSelector in a Pod spec**.
* If labels don’t match, the Pod **will not schedule** on that Node.

---

### ✅ **How it Works**

1. **Label the Node**

   ```bash
   kubectl label nodes node1 disktype=ssd
   ```

   Now `node1` has the label:

   ```
   disktype=ssd
   ```

2. **Deployment with nodeSelector**

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: node-selector-deployment
  labels:
    app: example
spec:
  replicas: 3
  selector:
    matchLabels:
      app: example
  template:
    metadata:
      labels:
        app: example
    spec:
      containers:
      - name: nodeselectorexample
        image: nginx
      nodeSelector:
        disk-type: ssd
```

* This Pod will **only schedule** on nodes with the label `disktype=ssd`.

---

### ✅ **Use Cases**

* Schedule workloads on:

  * **GPU nodes** for ML apps.
  * **High-memory nodes** for heavy workloads.
  * **Specific AZ or rack** for compliance.

---

### ✅ **Key Points**

* **Simple matching** → No complex rules (only `key: value`).
* If the Node has **multiple labels**, all in nodeSelector must match.
* If **no Node matches**, Pod stays in **Pending** state.

---

### ✅ **Difference Between nodeSelector and Taints**

* **nodeSelector** → Pod says: *“I want to go to a specific node.”*
* **Taint/Toleration** → Node says: *“I don’t allow Pods unless they tolerate me.”*

---

# Example

### ✅ **1. How can I get the Nodes?**

Run:

```bash
kubectl get nodes
```

**Output example:**

```
NAME          STATUS   ROLES    AGE   VERSION
node1         Ready    worker   10d   v1.31.0
node2         Ready    worker   10d   v1.31.0
```

---

### ✅ **2. How can I look at labels of Nodes?**

Run:

```bash
kubectl get nodes --show-labels
```

**OR for a specific node:**

```bash
kubectl describe node node1 | grep Labels -A 10
```

---

### ✅ **3. How can I assign labels to Nodes?**

Command:

```bash
kubectl label nodes <node-name> <key>=<value>
```

Example:

```bash
kubectl label nodes node1 disktype=ssd
```

Now, `node1` has a label `disktype=ssd`.

---

### ✅ **4. How can I delete labels from Nodes?**

Command:

```bash
kubectl label nodes <node-name> <key>-
```

Example:

```bash
kubectl label nodes node1 disktype-
```

(Removes `disktype` label from `node1`).


### ✅ **Summary**

1. **Scheduler is responsible for selecting the best node for a Pod** based on resource requirements, constraints, and policies.
2. **`nodeSelector` is the simplest way to constrain a Pod to specific Nodes** by matching labels.

   * If no matching Node is available, the Pod stays in **Pending** state.
3. **`nodeSelector` provides hard constraints**, meaning the Pod will **only** run on Nodes with matching labels.
4. **Node availability does not guarantee scheduling**:

   * If the Node has the correct label but **insufficient resources (CPU, memory)**, the Pod will still remain in **Pending** state.