### Definitions

* **Protocol:**
  A set of rules that defines how data is transmitted and received over a network.

  * Example: TCP ensures reliable delivery, UDP is faster but unreliable.

* **Port:**
  A logical endpoint in a network connection that identifies a **specific service or application** on a device.

  * Example: Port 80 for HTTP, Port 22 for SSH.

---

## 4. Protocols & Ports

* **TCP / UDP**

  * TCP: Connection-oriented, reliable.
  * UDP: Connectionless, faster, no delivery guarantee.

* **Common Protocols & Ports**

  | Protocol | Port  | Type    | Description              |
  | -------- | ----- | ------- | ------------------------ |
  | HTTP     | 80    | TCP     | Web traffic (not secure) |
  | HTTPS    | 443   | TCP     | Secure web traffic       |
  | SSH      | 22    | TCP     | Remote login             |
  | DNS      | 53    | TCP/UDP | Domain name resolution   |
  | DHCP     | 67/68 | UDP     | IP assignment            |
  | NTP      | 123   | UDP     | Network time sync        |

* **Ephemeral Ports**

  * Temporary client-side ports for outgoing connections.
  * Range: 1024â€“65535 (OS dependent).
  * Used to distinguish multiple simultaneous connections from the same device.

---

Client (Private IP: 10.10.1.24)
--------------------------------
Ephemeral Port: 52345  ---> TCP/UDP ---> Destination: Google IP: 443 (HTTPS)

   |------------------TCP------------------|
   | Source: 10.10.1.24:52345              |
   | Destination: 142.250.190.78:443       |
   | Protocol: TCP (reliable)              |
   |---------------------------------------|

NAT Gateway (Public IP: 52.23.45.67)
------------------------------------
Source NAT changes:
   10.10.1.24:52345  --->  52.23.45.67:62000
   (NAT table tracks mapping)

Internet / Server
-----------------
Receives packet from 52.23.45.67:62000 to 142.250.190.78:443
Responds back to NAT public IP:Port
NAT maps response back to original private IP:Port
```

**Key points from diagram:**

1. **Protocol (TCP/UDP)** defines the rules for sending/receiving data.
2. **Port** identifies which service/application should handle the traffic.
3. **Ephemeral port** is a temporary client-side port used to distinguish multiple connections.
4. NAT keeps track of mappings so multiple private instances can share a single public IP.

