### 🧱 Basic Commands

| Command              | Description                                                                           | Example                                 | Notes                                              |
| -------------------- | ------------------------------------------------------------------------------------- | --------------------------------------- | -------------------------------------------------- |
| `terraform init`     | Initializes a new or existing working directory by downloading providers and modules. | `terraform init`                        | Run after adding or changing providers or modules. |
| `terraform validate` | Validates configuration syntax and internal consistency.                              | `terraform validate`                    | Doesn’t connect to cloud providers.                |
| `terraform fmt`      | Formats `.tf` files to the standard style.                                            | `terraform fmt`                         | Use `-recursive` to format all subdirectories.     |
| `terraform plan`     | Previews changes before applying.                                                     | `terraform plan -var-file="dev.tfvars"` | Always review plan before applying.                |
| `terraform apply`    | Applies configuration changes to infrastructure.                                      | `terraform apply -auto-approve`         | Safely creates, updates, or deletes resources.     |
| `terraform destroy`  | Destroys managed infrastructure.                                                      | `terraform destroy -auto-approve`       | Use carefully in production!                       |

---

### ⚙️ State Management Commands

| Command                           | Description                                                 | Example                                                | Notes                                          |
| --------------------------------- | ----------------------------------------------------------- | ------------------------------------------------------ | ---------------------------------------------- |
| `terraform refresh`               | Updates the local state file to match real-world resources. | `terraform refresh`                                    | Doesn’t modify infrastructure, only state.     |
| `terraform show`                  | Displays details about the current state or plan.           | `terraform show terraform.tfstate`                     | Helps visualize attributes and dependencies.   |
| `terraform state list`            | Lists all resources tracked in the state file.              | `terraform state list`                                 | Useful for debugging or targeting resources.   |
| `terraform state show <resource>` | Shows details of a single resource.                         | `terraform state show aws_instance.web`                | Helps confirm real values stored in state.     |
| `terraform state mv`              | Moves items between modules or paths in the state.          | `terraform state mv aws_instance.old aws_instance.new` | Keeps state consistent after refactoring code. |
| `terraform state rm`              | Removes resource from state file without destroying.        | `terraform state rm aws_s3_bucket.demo`                | Used when resource is managed manually.        |
| `terraform state pull` / `push`   | Pulls or pushes remote state.                               | `terraform state pull > backup.tfstate`                | Good for manual backups and state recovery.    |

---

### 🧩 Advanced & Utility Commands

| Command             | Description                                         | Example                                           | Notes                                        |
| ------------------- | --------------------------------------------------- | ------------------------------------------------- | -------------------------------------------- |
| `terraform taint`   | Marks a resource for recreation on next apply.      | `terraform taint aws_instance.app_server`         | Force rebuild of a specific resource.        |
| `terraform untaint` | Removes tainted mark.                               | `terraform untaint aws_instance.app_server`       | Cancels rebuild before applying.             |
| `terraform output`  | Displays defined output values.                     | `terraform output instance_ip`                    | Used in automation or integration pipelines. |
| `terraform graph`   | Creates dependency graph in DOT format.             | `terraform graph > graph.dot`                     | Visualize resource dependencies.             |
| `terraform import`  | Brings existing resource into Terraform management. | `terraform import aws_s3_bucket.demo demo-bucket` | Critical for migration projects.             |

---

### 🧠 Debugging & Logging

| Method        | Description                                                | Example                                                |
| ------------- | ---------------------------------------------------------- | ------------------------------------------------------ |
| `TF_LOG`      | Enables logging (levels: TRACE, DEBUG, INFO, WARN, ERROR). | `export TF_LOG=DEBUG`                                  |
| `TF_LOG_PATH` | Stores logs in a file.                                     | `export TF_LOG_PATH=./terraform.log`                   |
| Verbose plan  | View detailed plan output.                                 | `terraform plan -out=tfplan` + `terraform show tfplan` |

---

### 💡 Real-World Scenarios

| Scenario                                                        | Recommended Command                    |
| --------------------------------------------------------------- | -------------------------------------- |
| Provider plugin error or version mismatch                       | `terraform init -upgrade`              |
| State drift detected (manual infra change)                      | `terraform refresh` + `terraform plan` |
| Resource needs rebuild due to config update                     | `terraform taint` + `terraform apply`  |
| You moved module paths                                          | `terraform state mv`                   |
| Imported legacy infra to Terraform                              | `terraform import` + `terraform plan`  |
| You deleted a resource manually and want Terraform to forget it | `terraform state rm`                   |
| You want to review before destroying                            | `terraform plan -destroy`              |

---

Here’s a detailed explanation for your **Terraform Basic Configuration Files** section, so it’s clear and interview-ready:

---

## **6. Terraform Basic Configuration Files**

### **1. `main.tf`**

* **Purpose:** This is the main Terraform configuration file where you define your **resources**.
* **Example:**

```hcl
resource "aws_instance" "web" {
  ami           = "ami-12345678"
  instance_type = "t2.micro"
  tags = {
    Name = "WebServer"
  }
}
```

* **Tip:** Keep only core resources here; use modules for reusable components.

---

### **2. `variables.tf`**

* **Purpose:** Define **input variables** that make your configuration flexible and reusable.
* **Example:**

```hcl
variable "region" {
  description = "AWS region to deploy resources"
  type        = string
  default     = "us-east-1"
}

variable "instance_type" {
  description = "EC2 instance type"
  type        = string
}
```

* **Tip:** Always provide **description** and optionally **default** values.

---

### **3. `outputs.tf`**

* **Purpose:** Define **output values** to display after `terraform apply`. Useful for sharing information with other modules or teams.
* **Example:**

```hcl
output "instance_id" {
  value       = aws_instance.web.id
  description = "ID of the EC2 instance"
}

output "public_ip" {
  value       = aws_instance.web.public_ip
  description = "Public IP address of the EC2 instance"
}
```

* **Tip:** Mark sensitive outputs as `sensitive = true` if needed.

---

### **4. `providers.tf`**

* **Purpose:** Configure the **provider** (e.g., AWS, GCP, Azure) and region/credentials.
* **Example:**

```hcl
terraform {
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 5.0"
    }
  }
}

provider "aws" {
  region = var.region
}
```

* **Tip:** Always pin provider versions to prevent breaking changes.

---

### **5. File Structure & Naming Conventions**

* Use a **modular and organized folder structure**, e.g.:

```
project/
├── main.tf
├── variables.tf
├── outputs.tf
├── providers.tf
├── terraform.tfvars
├── modules/
│   └── vpc/
│       ├── main.tf
│       ├── variables.tf
│       └── outputs.tf
└── envs/
    ├── dev.tfvars
    ├── stage.tfvars
    └── prod.tfvars
```

* **Tips:**

  * Keep environment-specific variables in separate `.tfvars` files.
  * Name resources clearly (`aws_instance.web_server`, `aws_s3.bucket_logs`).
  * Keep modules reusable and independent.

---


