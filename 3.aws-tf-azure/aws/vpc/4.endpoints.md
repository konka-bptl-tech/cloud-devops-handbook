## **1. What are VPC Endpoints?**

A **VPC Endpoint** allows you to **privately connect your VPC to AWS services or your own services** **without using the internet, NAT, VPN, or Direct Connect**.

**Why use it?**

* Secure traffic: Stays within the AWS network.
* Avoid public IPs.
* Reduce latency and cost (no NAT or Internet Gateway needed).

---

## **2. Types of VPC Endpoints**

AWS provides **two main types** of endpoints:

### **A. Interface Endpoint**

* **Type:** ENI (Elastic Network Interface) with a private IP in your subnet.
* **Works with:** Most AWS services (like **EC2 API, SSM, Secrets Manager, CloudWatch**).
* **Connection type:** **Private link** → each endpoint gets a **private IP**.
* **Billing:** Charged per hour and per GB of data processed.
* **Use case:** When you need **API-level access** to services privately.

**Example:**

* Connect your VPC to **Secrets Manager** without going through the internet.

---

### **B. Gateway Endpoint**

* **Type:** Route table entry that directs traffic to the service.
* **Works with:** **S3 and DynamoDB only.**
* **Connection type:** Uses **route tables** to send traffic directly to S3/DynamoDB.
* **Billing:** Free, no additional charges.
* **Use case:** Access **S3 buckets or DynamoDB** privately from VPC.

**Example:**

* Store backups in **S3** from EC2 instances without internet.

---

### **Quick Comparison**

| Feature    | Interface Endpoint  | Gateway Endpoint   |
| ---------- | ------------------- | ------------------ |
| Type       | ENI with private IP | Route table entry  |
| Services   | Most AWS services   | S3, DynamoDB       |
| Billing    | Paid                | Free               |
| Connection | PrivateLink         | Gateway            |
| Use Case   | API calls           | S3/DynamoDB access |

---

✅ **Summary:**

* **VPC Endpoint:** Private connection from your VPC to AWS services.
* **Types:**

  1. **Interface Endpoint** → ENI, private IP, API-level access, paid.
  2. **Gateway Endpoint** → Route table, S3/DynamoDB, free.

---


# Ec2 endpoint connect and then connect to s3 privatly using IAM ROle
1. Endpoints --> choose Ec2 instance Connect Endpoint
   - Network Settings --> Choose VPC,SG and Subnet that you endpoint --> create endpoint
2. Once Endpoint was created then go to ec2 connect --> Connection type --> Connecting Using Private IP
3. aws s3 ls it won't give any results
   - No credentials
     - IAM Role attach to ec2 instance
   - No route to connect s3
     - Endpoint --> AWS services --> Services --> Enter S3 in search --> Choose Gw endpoint --> Network Settings 
       --> Choose VPC --> Route tables --> Create Endpoint 
### Endpoints
1. Gateway Endpoints
2. Interfaces Endpoints